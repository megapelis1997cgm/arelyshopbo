<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AliClon - Compras Online a Precios Bajos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .flash-deal-bg {
            background: linear-gradient(90deg, rgba(255,87,34,1) 0%, rgba(255,69,0,1) 100%);
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Header Section -->
    <header class="bg-white py-3 px-4 md:px-8 shadow-md sticky top-0 z-50">
        <div class="container mx-auto flex items-center justify-between gap-4">
            <!-- Logo -->
            <a href="index.html" class="text-2xl md:text-3xl font-bold text-orange-600">
                AliClon
            </a>

            <!-- Search Bar -->
            <div class="flex-grow max-w-2xl hidden md:flex">
                <input type="text" placeholder="Busca de todo: smart watch, dron, ropa..." class="w-full px-4 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                <button class="bg-orange-600 text-white px-6 py-2 rounded-r-md hover:bg-orange-700 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </button>
            </div>

            <!-- Header Icons -->
            <div class="flex items-center gap-4 md:gap-6">
                <a href="#" class="text-gray-600 hover:text-orange-600 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                </a>
                <a href="#" class="text-gray-600 hover:text-orange-600 transition-colors relative">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span class="absolute -top-2 -right-2 bg-orange-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
                </a>
            </div>
        </div>
        <!-- Mobile Search Bar -->
        <div class="mt-3 md:hidden">
            <div class="flex">
                <input type="text" placeholder="Busca de todo..." class="w-full px-4 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                <button class="bg-orange-600 text-white px-4 py-2 rounded-r-md hover:bg-orange-700 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 md:p-8">
        
        <!-- Promotional Carousel -->
        <section class="mb-8">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                <img src="https://placehold.co/1200x400/FF5722/FFFFFF?text=¡Grandes+Ofertas+de+Verano!" alt="Promoción principal" class="w-full h-auto object-cover">
            </div>
        </section>

        <!-- Flash Deals Section -->
        <section class="mb-8">
            <div class="flash-deal-bg rounded-lg shadow-lg p-4 md:p-6 text-white">
                <div class="flex flex-col md:flex-row items-center justify-between">
                    <h2 class="text-2xl font-bold mb-4 md:mb-0">Ofertas Flash</h2>
                    <div class="flex items-center gap-2">
                        <span class="font-semibold">Termina en:</span>
                        <div id="countdown" class="flex gap-2 text-center">
                            <div class="bg-white text-orange-600 rounded-md px-3 py-1"><span id="days" class="font-bold text-xl">00</span><span class="text-xs block">Días</span></div>
                            <div class="bg-white text-orange-600 rounded-md px-3 py-1"><span id="hours" class="font-bold text-xl">00</span><span class="text-xs block">Horas</span></div>
                            <div class="bg-white text-orange-600 rounded-md px-3 py-1"><span id="minutes" class="font-bold text-xl">00</span><span class="text-xs block">Min</span></div>
                            <div class="bg-white text-orange-600 rounded-md px-3 py-1"><span id="seconds" class="font-bold text-xl">00</span><span class="text-xs block">Seg</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Product Grid -->
        <section>
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Recomendado para ti</h2>
            <!-- Products will be injected here by JavaScript -->
            <div id="product-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4">
                <!-- Loading indicator -->
                <p class="col-span-full text-center text-gray-500">Cargando productos...</p>
            </div>
            <div class="text-center mt-8">
                <button class="bg-white border border-orange-600 text-orange-600 px-8 py-3 rounded-md font-semibold hover:bg-orange-600 hover:text-white transition-all duration-300">
                    Cargar más productos
                </button>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto px-8 py-10">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <div>
                    <h4 class="font-bold text-lg mb-4">Atención al Cliente</h4>
                    <ul><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Centro de Ayuda</a></li><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Disputas y Reportes</a></li><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Políticas y Reglas</a></li><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Contactar</a></li></ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4">Compra con Nosotros</h4>
                    <ul><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Realizar un Pedido</a></li><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Métodos de Pago</a></li><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Guía de Envíos</a></li><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Protección del Comprador</a></li></ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4">Colabora con Nosotros</h4>
                    <ul><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Vende en AliClon</a></li><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Programa de Afiliados</a></li><li class="mb-2"><a href="#" class="hover:text-orange-400 transition-colors">Blog para Vendedores</a></li></ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4">Síguenos</h4>
                    <div class="flex gap-4">
                        <a href="#" class="hover:text-orange-400 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v2.385z"/></svg></a>
                        <a href="#" class="hover:text-orange-400 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616v.064c0 2.298 1.634 4.212 3.793 4.649-.65.177-1.354.23-2.06.088.62 1.924 2.413 3.32 4.545 3.359-1.858 1.455-4.188 2.32-6.72 2.32-.438 0-.87-.026-1.295-.076 2.405 1.536 5.273 2.433 8.36 2.433 9.882 0 15.36-8.162 15.36-15.36 0-.234 0-.466-.016-.696A10.955 10.955 0 0024 4.557z"/></svg></a>
                        <a href="#" class="hover:text-orange-400 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.012 3.584-.07 4.85c-.148 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.069-4.85.069s-3.584-.012-4.85-.07c-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.85s.012-3.584.07-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163zm0 1.802C9.042 3.965 8.71 3.977 7.433 4.03c-2.822.128-3.962 1.262-4.09 4.09-.052 1.277-.064 1.636-.064 4.87s.012 3.594.064 4.87c.128 2.821 1.268 3.962 4.09 4.09 1.277.052 1.636.064 4.87.064s3.594-.012 4.87-.064c2.821-.128 3.962-1.268 4.09-4.09.052-1.277.064-1.636.064-4.87s-.012-3.594-.064-4.87c-.128-2.822-1.268-3.962-4.09-4.09C15.29 3.977 14.96 3.965 12 3.965zm0 3.225c-2.401 0-4.35 1.95-4.35 4.35s1.949 4.35 4.35 4.35 4.35-1.95 4.35-4.35-1.949-4.35-4.35-4.35zm0 7.102c-1.523 0-2.75-1.227-2.75-2.75s1.227-2.75 2.75-2.75 2.75 1.227 2.75 2.75-1.227 2.75-2.75 2.75zm4.939-7.733c-.596 0-1.079.483-1.079 1.079s.483 1.079 1.079 1.079 1.079-.483 1.079-1.079-.483-1.079-1.079-1.079z"/></svg></a>
                    </div>
                </div>
            </div>
            <div class="mt-10 pt-8 border-t border-gray-700 text-center text-gray-400 text-sm">
                <p>&copy; 2024 AliClon. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>


    <script>
        // Countdown Timer for Flash Deals
        function startCountdown() {
            const countdownDate = new Date().getTime() + (2 * 24 * 60 * 60 * 1000); // 2 days from now
            const countdownFunction = setInterval(function() {
                const now = new Date().getTime();
                const distance = countdownDate - now;
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                document.getElementById("days").innerText = String(days).padStart(2, '0');
                document.getElementById("hours").innerText = String(hours).padStart(2, '0');
                document.getElementById("minutes").innerText = String(minutes).padStart(2, '0');
                document.getElementById("seconds").innerText = String(seconds).padStart(2, '0');
                if (distance < 0) {
                    clearInterval(countdownFunction);
                    document.getElementById("countdown").innerHTML = "<div class='text-lg font-bold'>¡Ofertas terminadas!</div>";
                }
            }, 1000);
        }

        // Fetch and display products from Google Sheet
        document.addEventListener('DOMContentLoaded', () => {
            startCountdown();
            
            const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTwnLFgBw30tyAFXc2olw5LLnqQdaxMRiZSpSndWSWhslTkqATarBs8dLImUhcXLK8EmBEs7gUL10oK/pub?output=csv';
            const productGrid = document.getElementById('product-grid');

            fetch(csvUrl)
              .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
              })
              .then(text => {
                const products = parseCSV(text);
                displayProducts(products);
              })
              .catch(error => {
                console.error('Error fetching or parsing CSV:', error);
                productGrid.innerHTML = '<p class="col-span-full text-center text-red-500">No se pudieron cargar los productos. Inténtalo de nuevo más tarde.</p>';
              });

            function parseCSV(text) {
                const lines = text.trim().split(/\r\n|\n/);
                const headers = lines[0].split(',').map(h => h.trim());
                const products = [];
                for (let i = 1; i < lines.length; i++) {
                    if (lines[i].trim() === '') continue;
                    const values = lines[i].split(',').map(v => v.trim());
                    let product = {};
                    for (let j = 0; j < headers.length; j++) {
                        product[headers[j]] = values[j];
                    }
                    products.push(product);
                }
                return products;
            }

            function displayProducts(products) {
                productGrid.innerHTML = ''; // Clear loading indicator
                if (products.length === 0) {
                    productGrid.innerHTML = '<p class="col-span-full text-center text-gray-500">No hay productos disponibles en este momento.</p>';
                    return;
                }
                products.forEach((product, index) => {
                    const name = product.nombre || 'Producto sin nombre';
                    const price = product.precio || 'N/A';
                    const wholesalePrice = product.mayoreo || 'N/A';
                    const productLink = `producto.html?id=${index}`;
                    const imageUrl = `https://placehold.co/300x300/E0E0E0/757575?text=${encodeURIComponent(name)}`;

                    const cardHTML = `
                        <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 group flex flex-col">
                            <a href="${productLink}" class="flex flex-col flex-grow">
                                <img src="${imageUrl}" alt="Imagen de ${name}" class="w-full h-40 object-cover">
                                <div class="p-4 flex flex-col flex-grow">
                                    <h3 class="text-sm font-medium text-gray-700 h-10 mb-2 group-hover:text-orange-600 transition-colors">${name}</h3>
                                    <div class="mt-auto">
                                        <p class="text-lg font-bold text-gray-900">$${price}</p>
                                        <p class="text-sm text-green-600 font-semibold">Mayoreo: $${wholesalePrice}</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    `;
                    productGrid.innerHTML += cardHTML;
                });
            }
        });
    </script>
</body>
</html>
